!function(){"use strict";var o,i,a,t,s,r,f,j,c,l={domain:"okt.to",paths:{convert:"/c",ping:"/ping",lead:"/ping/form"}},u=window.OktopostTrackerObject||"_oktrk",e=window[u].q||[],d=[];t="oktrkCallback_",a=function(o){var a=this,i=o.debug,c=function(){return t+Math.floor(1e3*Math.random()+1)},l=function(t,e){if("function"==typeof e||i.isDebugSet()){var n,r,o=function(){for(var t=c();void 0!==window[u][t];)t=c();return t}();n=o,r=e,window[u][n]=function(t){window[u][n]=void 0,delete window[u][n],i.debug(t),"function"==typeof r&&r(t)},t.callback=u+"."+o}};a.getCacheBuster=function(){return(new Date).getTime().toString()},a.getArrayFromHtmlCollection=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push(t[e]);return n},a.isInArray=function(t,e){return-1!==a.indexInArray(t,e)},a.indexInArray=function(t,e){var n;for(n=t.length-1;0<=n;n--)if(t[n]===e)return n;return-1},a.getQueryParam=function(t){var e,n="";for(e in t)t.hasOwnProperty(e)&&(n=n+"&"+encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return 0<n.length&&(n=n.substr(1)),n},a.getProtocol=function(){return"https:"===document.location.protocol?"https://":"http://"},a.attachFile=function(t,e,n){var r=a.getProtocol()+o.domain+e;t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,t.parentNode.removeChild(t))}:t.onload=function(){t.parentNode.removeChild(t)},t.src=r,n.appendChild(t)},a.loadImage=function(t){var e=document.createElement("img");e.height="1",e.width="1",e.onerror&&(e.onerror=function(){e.parentNode.removeChild(e)}),a.attachFile(e,t,document.getElementsByTagName("body")[0])},a.loadScript=function(t,e,n){n="boolean"!=typeof n||n;var r=document.createElement("script"),o=function(t,e){var n,r={};if("object"!=typeof t)l(r);else{for(n in t)t.hasOwnProperty(n)&&"callback"!==n&&(r[n]=t[n]);l(r,t.callback)}return e&&(r.ts=a.getCacheBuster()),r}(e,n),i=a.getQueryParam(o);t=0<i.length?t+"?"+i:t,r.type="application/javascript",a.attachFile(r,t,document.getElementsByTagName("head")[0])}},r={tag:!0,value:!0,url:!0,firstName:!0,lastName:!0,email:!0,phone:!0,company:!0,country:!0,state:!0,city:!0,zip:!0},s=function(o){var i=o.accountId,a=o.campaignId,c=(o.debug,o.utils);this.convert=function(t){t=t||{},c.loadImage(function(t,e){e="boolean"!=typeof e||e;var n,r=o.convertPath+"/"+i+"/"+a;return e&&(t.ts=c.getCacheBuster()),r=0<(n=c.getQueryParam(t)).length?r+"?"+n:r}(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&void 0!==r[e]&&(n[e]=t[e]);return n}(t)))}},j={interval:{time:200,maxRetries:10},initInterval:{time:500,maxRetries:600},tests:{wpGravityForms:/input_[0-9]{1,2}/,sitefinity:/(^ctl00\$)|(\$ctl00\$)/,sitefinityFormField:/^FormFields\[[0-9]{1,2}\]\.Field$/i,pardot:/[0-9]{3,4}(pi_)/,netResults:/^ma-form-element-yui/,uuid:/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,wufooForms:/^Field[0-9]{1,3}$/,dfbForms:/^dfbForm\$FormElement_/,silverpopForms:/^COLUMN[0-9]{1,2}$/,dynamicForms:/^dnn\$ctr[0-9]{1,5}\$DynamicForms\$/,ninjaForms:/^ninja_forms_field/,formidableForms:/^item\_meta\[[0-9]+\]$/,tfaForms:/^tfa\_[0-9]+$/,sitecore:/^wffm/},regex:{removeSpecialChars:/[^a-z0-9\s\-\_]/gim,trim:/^\s+|\s+$/gm,multipleSpaces:/\s+/g}},f=function(a){var c=a.accountId,l=a.debug,u=a.utils,s=!1,o=[],r=[],t={},i=function(t){var e;return 0===t.length?t:(e=t.replace(j.regex.removeSpecialChars,""),e=(e="function"==typeof String.prototype.trim?e.trim():e.replace(j.regex.trim,"")).replace(j.regex.multipleSpaces," "))},f=function(t){return"object"==typeof t.parentElement&&null!==t.parentElement&&"LABEL"===t.parentElement.tagName?t.parentElement:"string"==typeof t.id&&0<t.id.length?function(t){var e,n,r=document.getElementsByTagName("label");for(e=0;e<r.length;e++)if("string"==typeof(n=r[e].getAttribute("for"))&&n===t)return r[e];return null}(t.id):null},n=function(t,e){return"object"!=typeof t||null===t||"FORM"===t.tagName?null:t.tagName===e?t:n(t.parentElement,e)},d=function(t){return m(null!==(e=n(t.parentElement,"TD"))?e.previousElementSibling:null);var e},m=function(t){return"object"!=typeof t||null===t?"":"string"==typeof t.textContent&&0<t.textContent.length?t.textContent:"string"==typeof t.innerText&&0<t.innerText.length?t.innerText:""},p=function(t){var e,n;return 0<(e=i(m(f(t)))).length?e:0<(e=i(m(t.previousElementSibling))).length?e:0<(e=i(d(t))).length?e:e=i("string"==typeof(n=t.getAttribute("placeholder"))?n:"")},g=function(t){var e=t.getAttribute("type"),n=t.getAttribute("name");if("string"==typeof e){if("email"===(e=e.toLowerCase()))return"Email";if("tel"===e)return"Phone"}return"string"!=typeof n||0===n.length||j.tests.pardot.test(n)||j.tests.sitefinity.test(n)||j.tests.sitefinityFormField.test(n)||j.tests.wpGravityForms.test(n)||j.tests.wufooForms.test(n)||j.tests.dfbForms.test(n)||j.tests.uuid.test(n)||j.tests.netResults.test(n)||j.tests.silverpopForms.test(n)||j.tests.dynamicForms.test(n)||j.tests.ninjaForms.test(n)||j.tests.formidableForms.test(n)||j.tests.tfaForms.test(n)||j.tests.sitecore.test(n)?p(t):i(n)},v=function(t){"object"==typeof t&&t.UrlSet&&(s=!0)},h=function(t,e){if(""!==e&&""!==t){var n,r,o,i={aid:c,var:t,val:e};n=i,s||(r=(r=document.location.href).split("?"),n.url=r[0]),o=i,s||(o.callback=v),u.loadScript(a.leadPath,i)}else l.debug("Passed empty field name: %O or field value: %O",t,e)},y=function(t){h(g(t.srcElement),t.srcElement.value)},b=function(){h(g(this),this.value)},w=function(t){var e,n;(I(t)||E(t))&&(n="change",void 0!==(e=t).addEventListener?(0<e.value.length&&h(g(e),e.value),e.addEventListener(n,b)):void 0!==e.attachEvent&&(0<e.value.length&&h(g(e),e.value),e.attachEvent("on"+n,y)))},F=function(t){var e,n;(I(t)||E(t))&&(n="change",void 0!==(e=t).removeEventListener?e.removeEventListener(n,b):void 0!==e.detachEvent&&e.detachEvent("on"+n,y))},E=function(t){return"SELECT"===t.nodeName},I=function(t){if("INPUT"!==t.nodeName)return!1;var e=t.getAttribute("type");return"string"==typeof e&&("text"===(e=e.toLowerCase())||"email"===e||"number"===e||"tel"===e)},A=function(t){var e=t.getElementsByTagName("input"),n=t.getElementsByTagName("select");return 0===n.length?e:0===e.length?n:u.getArrayFromHtmlCollection(e).concat(u.getArrayFromHtmlCollection(n))},C=function(t){var e=A(t);return 0<e.length&&(function(t){var e;for(e=0;e<t.length;e++)w(t[e])}(e),!0)},S=function(t){var e;0<(e=A(t)).length&&function(t){var e;for(e=0;e<t.length;e++)F(t[e])}(e)},x=function(t,e){var n;if(n=t,!u.isInArray(o,n))return 0<C(t)?(N(e),void o.push(t)):void(r[e].counter<j.interval.maxRetries?r[e].counter=r[e].counter+1:N(e));N(e)},N=function(t){window.clearInterval(r[t].id),r[t].isActive=!1},k=function(t){var e=r.length;r.push({id:window.setInterval(T(t,e),j.interval.time),counter:0,isActive:!0})},T=function(t,e){return function(){x(t,e)}},e=function(){var t,e=document.getElementsByTagName("form");for(t=0;t<e.length;t++)k(e[t])},P=function(t,e){var n,r;u.isInArray(o,t)?e.isForce&&(n=t,-1!==(r=u.indexInArray(o,n))&&(S(n),o.splice(r,1)),k(t)):k(t)},$=function(t){t.isForce&&function(){var t;for(t=0;t<o.length;t++)S(o[t]);o=[]}(),function(){var t;for(t=0;t<r.length;t++)r[t].isActive&&N(t);r=[]}(),e()},L=function(){if("complete"===document.readyState||"loaded"===document.readyState)return window.clearInterval(t.id),void e();t.counter<j.initInterval.maxRetries?t.counter=t.counter+1:window.clearInterval(t.id)};this.track=function(t,e){t instanceof HTMLFormElement?P(t,e):"string"==typeof t&&0<t.length?(t=document.getElementById(t))instanceof HTMLFormElement&&P(t,e):$(e)},t={id:window.setInterval(L,j.initInterval.time),counter:0}},c=function(e){var n,r,t=e.campaignId||"global",o=e.accountId||"",i=e.debug,a=e.utils,c=function(){var t={uri:document.location.pathname+document.location.search+document.location.hash,aid:o};a.loadScript(e.paths.ping,t)},l=function(){n=new s({accountId:o,campaignId:t,convertPath:e.paths.convert,utils:a,debug:i})},u=function(){r=new f({accountId:o,leadPath:e.paths.lead,utils:a,debug:i})};this.convert=function(t){n.convert(t)},this.track=function(t,e){e="boolean"==typeof e&&e,r.track(t,{isForce:e})},l(),u(),c()},i=new function(){var e=this,n=!1,r=function(){},o=function(){console.log.apply(window.console,Array.prototype.slice.call(arguments))};e.debug=r,e.setDebug=function(t){t!==n&&(e.debug=t?(n=!0,o):(n=!1,r))},e.isDebugSet=function(){return n}};window[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.length,n={debug:i,domain:l.domain};if(0!==t.length){if(3<=e&&"object"==typeof t[e-1]){var r=t[e-1];void 0!==n.domain&&(n.domain=r.domain)}switch(o=new a(n),t.shift()){case"create":return void function(t,e){d.push(new c({accountId:t,campaignId:e,debug:i,utils:o,paths:l.paths}))}.apply(null,t);case"send":return void function(t){0!==d.length&&d[0].convert(t)}.apply(null,t);case"track":return void function(t,e){0!==d.length&&d[0].track(t,e)}.apply(null,t);case"setDebug":return void i.setDebug.apply(null,t);default:return}}},function(){for(;0<e.length;)window[u].apply(null,Array.prototype.slice.call(e.shift()))}()}();